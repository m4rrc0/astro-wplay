---
import { Image, Picture } from "astro:assets"
// import { Img } from "astro-imagetools/components"

// import { IO } from '@components'

const {
  id,
  class: _class,
  style,
  onload,
  image,
  src,
  fit,
  width,
  height,
  quality,
  withoutEnlargement,
  format,
  ...props
} = Astro.props || {}
// const querryParams = { fit, width, height, quality, withoutEnlargement, format }
// const querryString = Object.entries(querryParams).map(([param, val]) => {
//     return (typeof val).match(/undefined|null/) ? val : `${param}=${val}`
// }).filter(e => e).join('&')
// // console.log({querryParams, querryString})
// const src = `${srcRaw}${querryString ? '?' + querryString : ''}`
---

<!-- <IO img {...props} {src} {width} {height} {$skip} class={_class} {style} /> --><!-- <Img
  {...props}
  {src}
  {width}
  {height}
  attributes={{
    img: {
      ...(id ? { id } : {}),
      ...(_class ? { class: _class } : {}),
      ...(style ? { style } : {}),
      onload: `this.style.background = 'transparent';${onload || ""}`,
    },
  }}
/> -->
<Image
  {...props}
  {src}
  {format}
  {quality}
  {width}
  {height}
  {fit}
  {/* default is 'center' */}
  position="center"
  background="rgba(100,100,100, 0)"
  {...(id ? { id } : {})}
  {...(_class ? { class: _class } : {})}
  {...(style ? { style } : {})}
  onload={`this.style.background = 'transparent';${onload || ""}`}
/>
